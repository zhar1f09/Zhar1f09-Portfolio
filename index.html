<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Zhar1f09 Portfolio</title>

<style>
body {
  margin: 0;
  background: #000;
  color: #fff;
  font-family: system-ui;
}
.wrap {
  max-width: 1100px;
  margin: auto;
  padding: 24px;
}
.tabs {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}
.tab-btn {
  padding: 10px 14px;
  background: none;
  border: 1px solid #333;
  color: #aaa;
  cursor: pointer;
}
.tab-btn.active {
  border-color: #ff3b3b;
  color: #fff;
}
.grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-top: 16px;
}
.thumb {
  position: relative;
  height: 150px;
  background: #111;
  overflow: hidden;
  cursor: pointer;
}
.thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: opacity .4s;
}
.label {
  position: absolute;
  bottom: 8px;
  left: 8px;
  background: rgba(0,0,0,.6);
  padding: 5px 8px;
  font-size: 12px;
}
@media (max-width: 700px) {
  .grid { grid-template-columns: 1fr; }
}
</style>
</head>

<body>
<div class="wrap">

<h2>Portfolio</h2>

<div class="tabs" id="tabs"></div>
<div id="gallery"></div>

</div>

<script src="imageCategories.js"></script>

<script>
const tabsEl = document.getElementById("tabs");
const galleryEl = document.getElementById("gallery");

function renderCategory(category) {
  galleryEl.innerHTML = "";
  const grid = document.createElement("div");
  grid.className = "grid";

  categories[category].forEach(item => {
    const thumb = document.createElement("div");
    thumb.className = "thumb";

    const img = document.createElement("img");
    img.src = item.images[0];
    img.loading = "lazy";

    const label = document.createElement("div");
    label.className = "label";
    label.textContent = item.title;

    thumb.appendChild(img);
    thumb.appendChild(label);
    grid.appendChild(thumb);

    let i = 0;
    setInterval(() => {
      i = (i + 1) % item.images.length;
      img.style.opacity = 0;
      setTimeout(() => {
        img.src = item.images[i];
        img.style.opacity = 1;
      }, 200);
    }, 2500);
  });

  galleryEl.appendChild(grid);
}

Object.keys(categories).forEach((key, index) => {
  const btn = document.createElement("button");
  btn.className = "tab-btn" + (index === 0 ? " active" : "");
  btn.textContent = key;
  btn.onclick = () => {
    document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    renderCategory(key);
  };
  tabsEl.appendChild(btn);
});

renderCategory(Object.keys(categories)[0]);
</script>

</body>
</html>
